<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="description" content="How to use React, Facebook&apos;s frontend rendering library, with Meteor.">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>React | Meteor Guide</title>
    <link rel="icon" href="https://www.meteor.com/favicon.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,200,300italic,400italic" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="http://guide.meteor.com/style/main.css">
    <link href="http://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" type="text/css" href="http://s.swiftypecdn.com/assets/new_embed-d6004936e85bea3a6779a7de0ff4f850.css"><style type="text/css">.st-install-h1KW95Mz3fNyf4cnqVtr .st-ui-result .st-ui-type-heading { color:#0089d7 !important }
.st-install-h1KW95Mz3fNyf4cnqVtr .st-ui-result em {font-style:normal; font-weight:bold; background-color:#f6fcfe !important}</style><style>.original{display:none}</style></head>
  <body>
    <div id="wrap">
  <div id="header">
    <div id="top-nav">
  <ul id="top-nav-links">
    
      <li><a href="https://www.meteor.com">Meteor.com</a></li>
    
      <li><a href="https://www.meteor.com/install">Install</a></li>
    
      <li><a href="http://guide.meteor.com">Guide</a></li>
    
      <li><a href="https://www.meteor.com/tutorials/blaze/creating-an-app">Tutorials</a></li>
    
      <li><a href="http://docs.meteor.com">Docs</a></li>
    
      <li><a href="https://forums.meteor.com/">Forums</a></li>
    
  </ul>
</div>

<div id="site-nav">
  <a class="logo" href="/"><img src="http://guide.meteor.com/images/logo-coralspace.svg"></a>
  <span class="sub-title">The Official Guide</span>
  
    <select class="version-select">
      
        <option value="v1.3">1.3</option>
      
        <option value="v1.2">1.2</option>
      
    </select>
  
  
    <input id="search-input" class="search-box st-default-search-input" autocomplete="off" autocorrect="off" autocapitalize="off">
  
</div>

  </div>
  <div id="sidebar">
    <div id="sidebar-mobile">
  <!--
     Disabled search since it doesn't seem to work well
    <input class="search-box st-default-search-input">
    <br>
  -->
  <select class="version-select">
    
      <option value="v1.3">v1.3</option>
    
      <option value="v1.2">v1.2</option>
    
  </select>
</div>

<ul class="categories">
  
    <li>
      
      <ul class="menu-root">
        
          
          <li>
            <a href="guide-1.3.html" class="sidebar-link">
              Introduction
            </a>
          </li>
        
          
          <li>
            <a href="guide-code-style-1.3.html" class="sidebar-link">
              Code style
            </a>
          </li>
        
          
          <li>
            <a href="guide-structure-1.3.html" class="sidebar-link">
              Application structure
            </a>
          </li>
        
          
          <li>
            <a href="guide-1.3-migration-1.3.html" class="sidebar-link">
              Migrating to Meteor 1.3
            </a>
          </li>
        
      </ul>
    </li>
  
    <li>
      
        <p>Data</p>
      
      <ul class="menu-root">
        
          
          <li>
            <a href="guide-collections-1.3.html" class="sidebar-link">
              Collections and Schemas
            </a>
          </li>
        
          
          <li>
            <a href="guide-data-loading-1.3.html" class="sidebar-link">
              Publications and Data Loading
            </a>
          </li>
        
          
          <li>
            <a href="guide-methods-1.3.html" class="sidebar-link">
              Methods
            </a>
          </li>
        
          
          <li>
            <a href="guide-accounts-1.3.html" class="sidebar-link">
              Users and Accounts
            </a>
          </li>
        
          
          <li>
            <a href="guide-testing-1.3.html" class="sidebar-link">
              Testing
            </a>
          </li>
        
      </ul>
    </li>
  
    <li>
      
        <p>View</p>
      
      <ul class="menu-root">
        
          
          <li>
            <a href="guide-routing-1.3.html" class="sidebar-link">
              URLs and Routing
            </a>
          </li>
        
          
          <li>
            <a href="guide-ui-ux-1.3.html" class="sidebar-link">
              User Interfaces
            </a>
          </li>
        
          
          <li>
            <a href="guide-blaze-1.3.html" class="sidebar-link">
              Blaze
            </a>
          </li>
        
          
          <li>
            <a href="" class="sidebar-link current">
              React
            </a>
          <ul class="sub-menu"><li><a href="#introduction" data-scroll="" class="H2">Introduction</a><ul class="sub-menu"><li><a href="#using-with-meteor" data-scroll="" class="H3">Installing and using React</a></li><li><a href="#using-third-party-npm-packages" data-scroll="" class="H3">Using 3rd party packages</a></li><li><a href="#react-in-blaze" data-scroll="" class="H3">React Components in Blaze</a></li><li><a href="#blaze-in-react" data-scroll="" class="H3">Blaze Templates in React</a></li></ul></li><li><a href="#data" data-scroll="" class="H2">Using Meteor’s data system</a><ul class="sub-menu"><li><a href="#using-createContainer" data-scroll="" class="H3">Using createContainer</a></li><li><a href="#preventing-rerenders" data-scroll="" class="H3">Preventing re-renders</a></li></ul></li><li><a href="#routing" data-scroll="" class="H2">Routing</a><ul class="sub-menu"><li><a href="#using-flow-router" data-scroll="" class="H3">Flow Router</a></li><li><a href="#using-react-router" data-scroll="" class="H3">React Router</a></li></ul></li><li><a href="#meteor-and-react" data-scroll="" class="H2">Meteor and React</a><ul class="sub-menu"><li><a href="#atmosphere-packages" data-scroll="" class="H3">Using React in Atmosphere Packages</a></li></ul></li></ul></li>
        
          
          <li>
            <a href="guide-angular-1.3.html" class="sidebar-link">
              Angular
            </a>
          </li>
        
      </ul>
    </li>
  
    <li>
      
        <p>Build</p>
      
      <ul class="menu-root">
        
          
          <li>
            <a href="guide-using-packages-1.3.html" class="sidebar-link">
              Using Packages
            </a>
          </li>
        
          
          <li>
            <a href="guide-writing-packages-1.3.html" class="sidebar-link">
              Writing Packages
            </a>
          </li>
        
          
          <li>
            <a href="guide-mobile-1.3.html" class="sidebar-link">
              Mobile
            </a>
          </li>
        
          
          <li>
            <a href="guide-build-tool-1.3.html" class="sidebar-link">
              Build system
            </a>
          </li>
        
      </ul>
    </li>
  
    <li>
      
        <p>Production</p>
      
      <ul class="menu-root">
        
          
          <li>
            <a href="guide-security-1.3.html" class="sidebar-link">
              Security
            </a>
          </li>
        
          
          <li>
            <a href="guide-deployment-1.3.html" class="sidebar-link">
              Deployment and Monitoring
            </a>
          </li>
        
      </ul>
    </li>
  
    <li>
      
        <p>Meta</p>
      
      <ul class="menu-root">
        
          
          <li>
            <a href="guide-CONTRIBUTING-1.3.html" class="sidebar-link">
              Contribution guidelines
            </a>
          </li>
        
          
          <li>
            <a href="guide-CHANGELOG-1.3.html" class="sidebar-link">
              Change log
            </a>
          </li>
        
      </ul>
    </li>
  

  </ul></div>
  <div id="content">
    <h1>React</h1>
    <p class="edit-discuss-links">
      <a href="https://github.com/meteor/guide/tree/master/content/react.md" target="_blank">Edit on GitHub</a>
      
        |
        <a href="https://forums.meteor.com/t/20192">Discuss on the Meteor Forums</a>
      
    </p>
    <p class="original">After reading this guide, you’ll know:</p>
<p class="translation">このガイドを読むと、以下のことがわかります：</p>
<ol>
<li>What React is, and why you would consider using it with Meteor.</li>
<li>How to install React in your Meteor application, and how to use it correctly.</li>
<li>How to integrate React with Meteor’s realtime data layer.</li>
<li>How to route in a React/Meteor application.</li>
</ol>
<h2 id="introduction"><a class="anchor" href="#introduction" aria-hidden="true" data-scroll="">&#x1F517;</a>Introduction</h2>

<p><a href="https://facebook.github.io/react/" target="_blank" rel="external">React</a> is a JavaScript library for building reactive user interfaces developed and distributed by the Facebook team. React is one of the three rendering libraries supported by Meteor; it is an alterative to <a href="guide-blaze-1.3.html">Blaze</a> and <a href="guide-angular-1.3.html">Angular</a>.</p>
<p>React has a vibrant and growing ecosystem and is used widely in production in a variety of combinations with different frameworks.</p>
<p>To learn more about using React in general and coming up to speed with the library, you should check out the <a href="https://facebook.github.io/react/docs/getting-started.html" target="_blank" rel="external">React documentation</a>, especially the <a href="https://facebook.github.io/react/docs/thinking-in-react.html" target="_blank" rel="external">thinking in React</a> post, which explains the React philosophy well.</p>
<p>To get started with React in Meteor, you can follow along the <a href="https://www.meteor.com/tutorials/react/creating-an-app" target="_blank" rel="external">React tutorial</a>. To see an example of a more complete Meteor application built with React, check out the <a href="https://github.com/meteor/todos/tree/react" target="_blank" rel="external"><code>react</code> branch</a> of the Todos exmaple application. Where applicable, code examples in this article will reference that app.</p>
<h3 id="using-with-meteor"><a class="anchor" href="#using-with-meteor" aria-hidden="true" data-scroll="">&#x1F517;</a>Installing and using React</h3>

<p>To install React in Meteor 1.3 you should simply add it as an npm dependency:</p>
<figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save react react-dom</span><br></pre></td></tr></tbody></table></figure>
<p>This will install <code>react</code> into your project and allow you to access it within your files with <code>import React from &apos;react&apos;</code>. Most React code is written in <a href="https://facebook.github.io/react/docs/jsx-in-depth.html" target="_blank" rel="external">JSX</a>, which you can use by <a href="http://guide.meteor.com/build-tool.html#react-jsx">default in Meteor</a> if you include the <code>ecmascript</code> package (which is installed in all Meteor apps by default).</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&apos;react&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>{</span><br><span class="line">  render() {</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="xml"><span class="tag">&lt;<span class="title">h1</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="title">h1</span>&gt;</span></span><br><span class="line">    )</span>;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>You can render a component heirarchy to the DOM using the <code>react-dom</code> package:</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> { Meteor } <span class="keyword">from</span> <span class="string">&apos;meteor/meteor&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> { render } <span class="keyword">from</span> <span class="string">&apos;react-dom&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> HelloWorld <span class="keyword">from</span> <span class="string">&apos;./HelloWorld.jsx&apos;</span>;</span><br><span class="line"></span><br><span class="line">Meteor.startup(() =&gt; {</span><br><span class="line">  render(<span class="xml"><span class="tag">&lt;<span class="title">HelloWorld</span>/&gt;</span>, document.getElementById(&apos;app&apos;));</span><br><span class="line">});</span></span><br></pre></td></tr></tbody></table></figure>
<p>You need to include a <code>&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</code> in your body’s HTML somewhere of course.</p>
<p>Every new Meteor app includes Blaze, Meteor’s default templating system, by default. If you are not planning on <a href="#using-with-blaze">using React and Blaze together</a>, you can remove Blaze from your project by running:</p>
<figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">meteor remove blaze-html-templates</span><br><span class="line">meteor add static-html</span><br></pre></td></tr></tbody></table></figure>
<h3 id="using-third-party-npm-packages"><a class="anchor" href="#using-third-party-npm-packages" aria-hidden="true" data-scroll="">&#x1F517;</a>Using 3rd party packages</h3>

<p>If you’d like to use a third party React component that has been published on npm (such as the ones you find on the <a href="http://react-components.com" target="_blank" rel="external">React Components site</a>), you can simple <code>npm install --save</code> them and <code>import</code> from within your app.</p>
<p>For example, to use the excellent <a href="http://griddlegriddle.github.io/Griddle/" target="_blank" rel="external">Griddle</a> React package, you could run</p>
<figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save griddle-react</span><br></pre></td></tr></tbody></table></figure>
<p>Then, like with any other <a href="using-packages.html#npm">npm package</a>, you can import the component in your application:</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&apos;react&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> Griddle <span class="keyword">from</span> <span class="string">&apos;griddle-react&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">MyGriddler</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>{</span><br><span class="line">  render() {</span><br><span class="line">    <span class="keyword">return</span> (<span class="xml"><span class="tag">&lt;<span class="title">Griddle</span> <span class="attribute">....</span>/&gt;</span>)</span>;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>If you are looking to write an Atmosphere package that wraps such a component, you need to take some <a href="#atmosphere-packages">further steps</a>.</p>
<p><span id="using-with-blaze"><!-- don't break old links --></span></p>
<h3 id="react-in-blaze"><a class="anchor" href="#react-in-blaze" aria-hidden="true" data-scroll="">&#x1F517;</a>React Components in Blaze</h3>

<p>If you’d like to use React within a larger app built with <a href="#blaze.html">Blaze</a> (which is a good strategy if you’d like to incrementally migrate an app from Blaze to React), you can use the <a href="https://atmospherejs.com/meteor/react-template-helper" target="_blank" rel="external"><code>react-template-helper</code></a> component which renders a react component inside a Blaze template. First run <code>meteor add react-template-helper</code>, then use the <code>React</code> helper in your template:</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">template</span> <span class="attribute">name</span>=<span class="value">&quot;userDisplay&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">div</span>&gt;</span>Hello, {{username}}<span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">div</span>&gt;</span>{{&gt; React component=UserAvatar userId=_id}}<span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">template</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>You will need to pass in the component class with a helper:</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> { Template } <span class="keyword">from</span> <span class="string">&apos;meteor/templating&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&apos;./userDisplay.html&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> UserAvatar <span class="keyword">from</span> <span class="string">&apos;./UserAvatar.jsx&apos;</span>;</span><br><span class="line"></span><br><span class="line">Template.userDisplay.helpers({</span><br><span class="line">  UserAvatar() {</span><br><span class="line">    <span class="keyword">return</span> UserAvatar;</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>
<p>The <code>component</code> argument is the React component to include, which should be passed in with a helper.</p>
<p>Every other argument is passed as a prop to the component when it is rendered.</p>
<p>Note that there a few caveats:</p>
<ul>
<li><p>React components must be the only thing in the wrapper element. Due to a limitation of React (see facebook/react <a href="https://github.com/facebook/react/issues/1970" target="_blank" rel="external">#1970</a>, <a href="https://github.com/facebook/react/issues/2484" target="_blank" rel="external">#2484</a>), a React component must be rendered as the only child of its parent node, meaning it cannot have any siblings.</p>
</li>
<li><p>This means a React component also can’t be the only thing in a Blaze template, because it’s impossible to tell where the template will be used.</p>
</li>
</ul>
<h4 id="passing-callbacks-from-blaze">Passing callbacks to a React component</h4>

<p>To pass a callback to a React component that you are including with this helper, simply make a <a href="http://guide.meteor.com/blaze.html#pass-callbacks">template helper that returns a function</a>, and pass it in as a prop, like so:</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Template.userDisplay.helpers({</span><br><span class="line">  onClick() {</span><br><span class="line">    <span class="keyword">const</span> instance = Template.instance();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Return a function from this helper, where the template instance is in</span></span><br><span class="line">    <span class="comment">// a closure</span></span><br><span class="line">    <span class="keyword">return</span> () =&gt; {</span><br><span class="line">      instance.hasBeenClicked.set(<span class="literal">true</span>)</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
<p>To use it in Blaze:</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">template</span> <span class="attribute">name</span>=<span class="value">&quot;userDisplay&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">div</span>&gt;</span></span><br><span class="line">    {{&gt; React component=UserAvatar userId=_id onClick=onClick}}</span><br><span class="line">  <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">template</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="blaze-in-react"><a class="anchor" href="#blaze-in-react" aria-hidden="true" data-scroll="">&#x1F517;</a>Blaze Templates in React</h3>

<p>Just like we can use React components in Blaze templates, we can also use Blaze templates in React components.  This is simularly useful for a gradual transition strategy; but more importantly, it allows us to continue to use the multitude of Atmosphere packages built for Blaze in our React projects, as well as core packages like <code>accounts-ui</code>.</p>
<p>One easy way to do this is with the <a href="https://atmospherejs.com/gadicc/blaze-react-component" target="_blank" rel="external"><code>gadicc:blaze-react-component</code></a> package.  First run <code>meteor add gadicc:blaze-react-component</code>, then import and use it in your components as follows:</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&apos;react&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> Blaze <span class="keyword">from</span> <span class="string">&apos;meteor/gadicc:blaze-react-component&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> App = () =&gt; (</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="title">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">Blaze</span> <span class="attribute">template</span>=<span class="value">&quot;itemsList&quot;</span> <span class="attribute">items</span>=<span class="value">{items}</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">)</span>;</span><br></pre></td></tr></tbody></table></figure>
<p>The <code>&lt;Blaze template=&quot;itemsList&quot; items={items} /&gt;</code> line is the same as if you had written <code>{{&gt; itemsList items=items}}</code> inside of a Blaze template.  For other options and further information, see the package’s <a href="https://github.com/gadicc/meteor-blaze-react-component" target="_blank" rel="external">project page</a>.</p>
<h2 id="data"><a class="anchor" href="#data" aria-hidden="true" data-scroll="">&#x1F517;</a>Using Meteor’s data system</h2>

<p>React is a front-end rendering library and as such doesn’t concern itself with how data gets into and out of components. On the other hand, Meteor has strong opinions about data! Meteor operates in terms of <a href="guide-data-loading-1.3.html">publications</a> and <a href="guide-methods-1.3.html">methods</a>, used to subscribe to and modify the data in your application.</p>
<p>To integrate the two systems, we’ve developed a <a href="https://atmospherejs.com/meteor/react-meteor-data" target="_blank" rel="external"><code>react-meteor-data</code></a> package which allows React components to respond to data changes via Meteor’s <a href="https://www.meteor.com/tracker" target="_blank" rel="external">Tracker</a> reactivity system.</p>
<h3 id="using-createContainer"><a class="anchor" href="#using-createContainer" aria-hidden="true" data-scroll="">&#x1F517;</a>Using <code>createContainer</code></h3>

<p>Once you’ve run <code>meteor add react-meteor-data</code>, you’ll be able to import the <code>createContainer</code> function, which allows you to create a <a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0#.by86emv9b" target="_blank" rel="external">container component</a> which provides data to your presentational components.</p>
<blockquote>
<p>Note that “container components” are analogous to the “smart components” and “presentational components” to the “reusable components” in the pattern we document in the <a href="http://guide.meteor.com/ui-ux.html#components">UI/UX article</a>, if you’d like to read more about how this philosophy relates to Meteor.</p>
</blockquote>
<p>For example, in the Todos example app, we have a <code>ListPage</code> component, which renders list metadata and the tasks in the list. In order to do so, it needs to <a href="data-loading.html#subscriptions">subscribe</a> to the <code>todos.inList</code> publication, check that subscription’s readiness, then fetch the list of todos from the <code>Todos</code> collection.</p>
<p>It also needs to be responsive to reactive changes in the state of those actions (for instance if a todo changes due to the action of another user). All this data loading complexity is a typical use-case for a container-presentational component split, and the <code>createContainer()</code> function makes it simple to do this.</p>
<p>We simply define the <code>ListPage</code> component as a presentational component that expects its data to be passed in using React <code>props</code>:</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&apos;react&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">ListPage</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>{</span><br><span class="line">  ...</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">ListPage.propTypes = {</span><br><span class="line">  list: React.PropTypes.object,</span><br><span class="line">  todos: React.PropTypes.array,</span><br><span class="line">  loading: React.PropTypes.bool,</span><br><span class="line">  listExists: React.PropTypes.bool,</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>
<p>Then we create a <code>ListContainer</code> container component which wraps it and provides a data source:</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> { Meteor } <span class="keyword">from</span> <span class="string">&apos;meteor/meteor&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> { Lists } <span class="keyword">from</span> <span class="string">&apos;../../api/lists/lists.js&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> { createContainer } <span class="keyword">from</span> <span class="string">&apos;meteor/react-meteor-data&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> ListPage <span class="keyword">from</span> <span class="string">&apos;../pages/ListPage.jsx&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createContainer(({ params }) =&gt; {</span><br><span class="line">  <span class="keyword">const</span> { id } = params;</span><br><span class="line">  <span class="keyword">const</span> todosHandle = Meteor.subscribe(<span class="string">&apos;todos.inList&apos;</span>, id);</span><br><span class="line">  <span class="keyword">const</span> loading = !todosHandle.ready();</span><br><span class="line">  <span class="keyword">const</span> list = Lists.findOne(id);</span><br><span class="line">  <span class="keyword">const</span> listExists = !loading &amp;&amp; !!list;</span><br><span class="line">  <span class="keyword">return</span> {</span><br><span class="line">    loading,</span><br><span class="line">    list,</span><br><span class="line">    listExists,</span><br><span class="line">    todos: listExists ? list.todos().fetch() : [],</span><br><span class="line">  };</span><br><span class="line">}, ListPage);</span><br></pre></td></tr></tbody></table></figure>
<p>The container component created by <code>createContainer()</code> will reactively rerender the wrapped component in response to any changes to <a href="https://atmospherejs.com/meteor/tracker" target="_blank" rel="external">reactive data sources</a> accessed from inside the function provided to it.</p>
<p>Although this <code>ListContainer</code> container is intended to be instantiated by the React Router (which passes in the props automatically), if we did ever want to create one manually, we would need to pass in the props to the container component (which then get passed into our data function above):</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;ListContainer params={{id: <span class="string">&apos;7&apos;</span>}}/&gt;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="preventing-rerenders"><a class="anchor" href="#preventing-rerenders" aria-hidden="true" data-scroll="">&#x1F517;</a>Preventing re-renders</h3>

<p>Sometimes changes in your data can trigger re-computations which you know won’t affect your UI. Although React is in general quite efficient in the face of unnecessary re-renders, if you need to control re-rendering, the above pattern allows you to easily use React’s <a href="https://facebook.github.io/react/docs/component-specs.html#updating-shouldcomponentupdate" target="_blank" rel="external"><code>shouldComponentUpdate</code></a> on the presentational component to avoid re-renders.</p>
<h2 id="routing"><a class="anchor" href="#routing" aria-hidden="true" data-scroll="">&#x1F517;</a>Routing</h2>

<p>There are two main options for routing with Meteor and React. Either way, we recommend consulting our <a href="guide-routing-1.3.html">Routing article</a> for some general principles of routing in Meteor before writing your app.</p>
<ul>
<li><p><a href="https://atmospherejs.com/kadira/flow-router" target="_blank" rel="external"><code>kadira:flow-router</code></a> is a Meteor specific router that can be used both with React and Blaze. It is documented in detail in the <a href="guide-routing-1.3.html">Routing article</a>.</p>
</li>
<li><p><a href="https://www.npmjs.com/package/react-router" target="_blank" rel="external"><code>react-router</code></a> is a React-specific router very popular in the React community. It can also be used easily with Meteor.</p>
</li>
</ul>
<h3 id="using-flow-router"><a class="anchor" href="#using-flow-router" aria-hidden="true" data-scroll="">&#x1F517;</a>Flow Router</h3>

<p>Using Flow Router with React is very similar to using it with Blaze. The only difference is that in your route actions, you should use the <a href="https://www.npmjs.com/package/react-mounter" target="_blank" rel="external"><code>react-mounter</code></a> package to mount components with a layout. Once you <code>npm install --save react-mounter</code>, you can do the following:</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> { FlowRouter } <span class="keyword">from</span> <span class="string">&apos;meteor/kadira:flow-router&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> { mount } <span class="keyword">from</span> <span class="string">&apos;react-mounter&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> AppContainer <span class="keyword">from</span> <span class="string">&apos;../../ui/containers/AppContainer.jsx&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> ListContainer <span class="keyword">from</span> <span class="string">&apos;../../ui/containers/ListContainer.jsx&apos;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">FlowRouter.route(<span class="string">&apos;/lists/:_id&apos;</span>, {</span><br><span class="line">  name: <span class="string">&apos;Lists.show&apos;</span>,</span><br><span class="line">  action() {</span><br><span class="line">    mount(AppContainer, {</span><br><span class="line">      main: () =&gt; <span class="xml"><span class="tag">&lt;<span class="title">ListContainer</span>/&gt;</span>,</span><br><span class="line">    });</span><br><span class="line">  },</span><br><span class="line">});</span></span><br></pre></td></tr></tbody></table></figure>
<p>Note that <code>react-mounter</code> automatically mounts the layout component on a <code>#react-root</code> node, which you can change by using the <code>withOptions()</code> function.</p>
<h3 id="using-react-router"><a class="anchor" href="#using-react-router" aria-hidden="true" data-scroll="">&#x1F517;</a>React Router</h3>

<p>Using React Router is also straightforward. Once you <code>npm install --save react-router</code>, you can simply export a list of nested routes as you would in any other React Router driven React application:</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&apos;react&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> { Router, Route, browserHistory } <span class="keyword">from</span> <span class="string">&apos;react-router&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// route components</span></span><br><span class="line"><span class="keyword">import</span> AppContainer <span class="keyword">from</span> <span class="string">&apos;../../ui/containers/AppContainer.jsx&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> ListContainer <span class="keyword">from</span> <span class="string">&apos;../../ui/containers/ListContainer.jsx&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> AuthPageSignIn <span class="keyword">from</span> <span class="string">&apos;../../ui/pages/AuthPageSignIn.jsx&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> AuthPageJoin <span class="keyword">from</span> <span class="string">&apos;../../ui/pages/AuthPageJoin.jsx&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> NotFoundPage <span class="keyword">from</span> <span class="string">&apos;../../ui/pages/NotFoundPage.jsx&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> renderRoutes = () =&gt; (</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="title">Router</span> <span class="attribute">history</span>=<span class="value">{browserHistory}</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">Route</span> <span class="attribute">path</span>=<span class="value">&quot;/&quot;</span> <span class="attribute">component</span>=<span class="value">{AppContainer}</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">Route</span> <span class="attribute">path</span>=<span class="value">&quot;lists/:id&quot;</span> <span class="attribute">component</span>=<span class="value">{ListContainer}</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">Route</span> <span class="attribute">path</span>=<span class="value">&quot;signin&quot;</span> <span class="attribute">component</span>=<span class="value">{AuthPageSignIn}</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">Route</span> <span class="attribute">path</span>=<span class="value">&quot;join&quot;</span> <span class="attribute">component</span>=<span class="value">{AuthPageJoin}</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">Route</span> <span class="attribute">path</span>=<span class="value">&quot;*&quot;</span> <span class="attribute">component</span>=<span class="value">{NotFoundPage}</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">Route</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="title">Router</span>&gt;</span></span><br><span class="line">)</span>;</span><br></pre></td></tr></tbody></table></figure>
<p>With React Router, you’ll also need to explicity render the exported routes in a startup function:</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> { Meteor } <span class="keyword">from</span> <span class="string">&apos;meteor/meteor&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> { render } <span class="keyword">from</span> <span class="string">&apos;react-dom&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> { renderRoutes } <span class="keyword">from</span> <span class="string">&apos;../imports/startup/client/routes.jsx&apos;</span>;</span><br><span class="line"></span><br><span class="line">Meteor.startup(() =&gt; {</span><br><span class="line">  render(renderRoutes(), <span class="built_in">document</span>.getElementById(<span class="string">&apos;app&apos;</span>));</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
<p>When using React Router in Meteor, you can follow roughly the <a href="guide-routing-1.3.html">same principles</a> as when using Flow Router, but you should also consider the idioms outlined in React Router’s own  <a href="https://github.com/reactjs/react-router/blob/latest/docs/Introduction.md" target="_blank" rel="external">documentation</a>.</p>
<p>These include some notable differences like:</p>
<ul>
<li>React Router encourages you to couple your URL design and layout hierarchy in the route definition. Flow Router is more flexible, although it can involve much more boilerplate as a result.</li>
<li>React Router embraces React-specific functionality like the use of <a href="https://facebook.github.io/react/docs/context.html" target="_blank" rel="external">context</a>, although you can also explicitly pass your FlowRouter instance around in context if you’d like (in fact this is probably the best thing to do).</li>
</ul>
<h2 id="meteor-and-react"><a class="anchor" href="#meteor-and-react" aria-hidden="true" data-scroll="">&#x1F517;</a>Meteor and React</h2>

<h3 id="atmosphere-packages"><a class="anchor" href="#atmosphere-packages" aria-hidden="true" data-scroll="">&#x1F517;</a>Using React in Atmosphere Packages</h3>

<p>If you are writing an Atmosphere package and want to depend on React or an npm package that itself depends on React, you can’t use <code>Npm.depends()</code> and <code>Npm.require()</code>, as this will result in <em>2</em> copies of React being installed into the application (and besides <code>Npm.require()</code> only works on the server).</p>
<p>Instead, you need to ask your users to install the correct npm packages in the application itself. This will ensure that only one copy of React is shipped to the client and there are no version conflicts.</p>
<p>In order to check that a user has installed the correct versions of npm packages, you can use the <a href="https://atmospherejs.com/tmeasday/check-npm-versions" target="_blank" rel="external"><code>tmeasday:check-npm-versions</code></a> package to check dependency versions at runtime.</p>

    <div class="bottom-nav">
      
      
        <span>← <a href="guide-blaze-1.3.html">Blaze</a></span>
      
      
        <span style="float:right"><a href="guide-angular-1.3.html">Angular</a> →</span>
      
    </div>
    <p class="edit-link">
      <a href="https://github.com/meteor/guide/tree/master/content/react.md" target="_blank">Edit this page on GitHub</a>
    </p>
    
      <div id="discourse-comments"><iframe src="https://forums.meteor.com/embed/comments?topic_id=20192" id="discourse-embed-frame" width="100%" frameborder="0" scrolling="no" height="2612px"></iframe></div>

      
    
  </div>

  <!-- mobile only -->
  <div id="mobile-header">
    <a class="menu-button"></a>
    <a class="logo" href="/">
      <img src="http://guide.meteor.com/images/logo.svg">
    </a>
  </div>
  <div id="mobile-shade"></div>

</div>

    
    
    
    
  

<div class="st-injected-content-generated st-install-h1KW95Mz3fNyf4cnqVtr" data-st-install-key="h1KW95Mz3fNyf4cnqVtr" id="st-injected-content">
<div class="st-ui-embed st-search-chrome-overlay-output st-search-escape-hide-outputs st-search-zoom-on-mobile" style="display: none; ">
    <div class="st-ui-overlay st-search-hide-outputs"></div>
  <!-- Swiftype input and results overlay -->
  <div class="st-ui-container st-ui-container-overlay  st-ui-injected-overlay-container ">
    <!-- HEADER -->
    <div class="st-ui-container-header_bar st-position-container">
        <section class="st-ui-header">
          <form>
            <input class="st-default-search-input st-search-set-focus" type="text" value="" placeholder="Search this site" id="st-overlay-search-input" autocomplete="off" autocorrect="off" autocapitalize="off">
          </form>
          <span class="st-ui-search-icon"></span>

            <a class="st-ui-close-button st-search-hide-outputs">Close</a>

            <a class="st-ui-stamp" href="https://swiftype.com" target="_blank">search by swiftype</a>
        </section>
    </div>

    <!-- LEFT SIDEBAR -->
    <div class="st-ui-container-left_sidebar st-position-container">
      <div class="st-ui-injected-search-controls">
      </div>
    </div>

    <!-- RIGHT SIDEBAR -->
    <div class="st-ui-container-right_sidebar st-position-container">
      <div class="st-ui-injected-container-right_sidebar">
        <div class="st-ui-injected-search-controls">
        </div>
      </div>
    </div>

    <!-- PRIMARY CONTENT -->
    <div class="st-ui-container-primary_content st-position-container">
        <section class="st-ui-slide-autocomplete st-autocomplete-keyboard-navigable st-autocomplete-transient-on-select-and-results" data-st-target-element="#st-overlay-search-input" data-st-active-query-class="active" style="display: none; ">
          <span class="st-ui-type-heading-small">suggested results</span>
          <div class="st-autocomplete-results"><div class="st-query-present" style="display: none; "></div></div>
        </section>

        <section class="st-ui-content st-search-results"><div class="st-query-not-present">
          <span class="st-ui-fallback"></span>
        </div><div class="st-query-present" style="display: none; "></div></section>

      <section class="st-ui-no-results st-search-suggestions"><div class="st-query-not-present">
      </div></section>
    </div>



    <!-- FOOTER -->
    <div class="st-ui-container-footer_bar st-position-container">
      <section class="st-ui-footer">
          <span class="st-ui-search-summary st-search-summary"></span>
        <span class="st-ui-pagination st-search-pagination"></span>
      </section>
    </div>
  </div>
</div>
<div class="st-default-autocomplete" data-st-target-element=".st-default-search-input" style="position: absolute; top: 49px; left: 0px; z-index: 999999; display: none; ">
  <div class="st-autocomplete-results st-ui-autocomplete"><div class="st-query-present" style="display: none; "></div></div>
</div>
</div><script>if(window.location.hash==="#showoriginal"){var nodes=document.getElementsByClassName("original");for(var i=0;i<nodes.length;i++){nodes[i].style.display="initial";}}</script></body></html>